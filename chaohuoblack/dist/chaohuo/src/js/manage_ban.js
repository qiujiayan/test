!function(t){t(function(){var n,e,o,a,i,d,c,l="";getAllAppVersion(function(e){if(console.log(e),1==e.code){t(".index-total").html("共有数据："+e.content.length+"条"),l="";for(var o=0;o<e.content.length;o++)n=1==e.content[o].status?"上线":"下线",null==e.content[o].des&&(e.content[o].des="无"),l+="<tr>\n\t\t\t\t\t\t\t\t<td>"+e.content[o].id+"</td>\n\t\t\t\t\t\t\t\t<td>"+e.content[o].appVersion+"</td>\n\t\t\t\t\t\t\t\t<td>"+e.content[o].downUrl+"</td>\n\t\t\t\t\t\t\t\t<td>"+formatDate(new Date(e.content[o].createTime))+"</td>\n\t\t\t\t\t\t\t\t<td>"+n+'</td>\n\t\t\t\t\t\t\t\t<td><div style="width:100px;height:60px;overflow:hidden;">'+e.content[o].des+'</div></td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<span class="index-editor" dataid = '+e.content[o].id+">编辑</span>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>";t(".index-table").append('<tr>\n\t\t\t\t\t\t<td>ID</td>\n\t\t\t\t\t\t<td>版本号</td>\n\t\t\t\t\t\t<td>下载地址</td>\n\t\t\t\t\t\t<td>创建时间</td>\n\t\t\t\t\t\t<td>状态</td>\n\t\t\t\t\t\t<td style="width:100px;">说明</td>\n\t\t\t\t\t\t<td>操作</td>\n\t\t\t\t\t</tr>'+l)}else alert("错误信息"+e.msg)}),t(".manage-banner-add .manage-upa-file").on("change",function(n){o=this.files,console.log(o[0].name),upLoad(t.cookie("tokenid"),o[0].name,"AA",function(n){console.log(n),i=n.content.oneEffectiveSign,a=n.content.periodEffectiveSign,d=n.content.cosPath,fileJSSDK(a,i,d,o[0],function(n){e=n,t(document).on("click",".index-btn-con",function(){console.log(e);var n=t(".version-num").val(),o=t(".version-detail").val();addAppVersion(n,e,o,function(t){console.log(t),1==t.code?(alert("版本添加成功"),location.reload()):alert("添加版本错误信息"+t.msg)})})})});var c=new FileReader;c.readAsDataURL(o[0]),c.onload=function(n){alert("上传成功"),t(".appName").html(o[0].name)}}),t(document).on("click",".add-version",function(){t(".user-manage-show").hide(),t(".manage-banner-add").show()}),t(document).on("click",".index-btn-cel",function(){t(".manage-banner-add").hide(),t(".manage-banner-edi").hide(),t(".user-manage-show").show()}),t(document).on("click",".index-editor",function(){c=t(this).attr("dataid"),t(".user-manage-show").hide(),t(".manage-banner-edi").show(),t(".version-num-modify").val(t(this).parent().prev().prev().prev().prev().prev().html()),t(".modify-appName").html(t(this).parent().prev().prev().prev().prev().html()),t(".version-detail-modify").val(t(this).parent().prev().children().html())}),t(".manage-banner-edi .modify-upa-file").on("change",function(n){o=this.files,console.log(o[0].name),upLoad(t.cookie("tokenid"),o[0].name,"AA",function(t){i=t.content.oneEffectiveSign,a=t.content.periodEffectiveSign,d=t.content.cosPath,fileJSSDK(a,i,d,o[0],function(t){e=t,console.log(e)})});var c=new FileReader;c.readAsDataURL(o[0]),c.onload=function(n){alert("上传成功"),t(".modify-appName").html(o[0].name)}}),t(".version-con").on("click",function(){var n=t(".version-num-modify").val(),o=t(".version-detail-modify").val(),a=t("select[name='versionStatus']").val();e=e||t(".modify-appName").html(),console.log(c),updateAppVersion(c,n,e,a,o,function(t){console.log(t),1==t.code?(alert("修改成功"),location.reload()):alert("修改版本错误信息"+t.msg)})})})}(jQuery);