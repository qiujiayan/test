!function(t){t(function(){var e,o,n,l,d="",a="",c="",i="";getAllRoleModels(void 0,function(e){if(1==e.code){for(var o=0;o<e.content.length;o++)d+='<div class="permission-list">\n\t\t\t\t\t\t\t\t\t<input type="checkbox" value="'+e.content[o].id+'" name="checkbox"/>\n\t\t\t\t\t\t\t\t\t<span>'+e.content[o].roleModelName+"</span>\t\t\t\t\n\t\t\t\t\t\t\t\t</div>";t(".all-moduleRole").append('<span class="index-name">所有权限：</span>'+d)}else alert("错误信息"+e.msg)}),getAllRolesWithRoleModels(void 0,function(o){if(1==o.code){for(var n=0;n<o.content.length;n++){a="",e=1==o.content[n].status?"上线":"未上线";for(var l=0;l<o.content[n].roleModels.length;l++)a+="<p>"+o.content[n].roleModels[l].roleModelName+"</p>";c+="<tr><td>"+o.content[n].roleName+"</td><td>"+a+"</td><td>"+e+'</td><td><span class="role-editor" dataId="'+o.content[n].id+'">权限编辑</span></td></tr>'}t(".index-table").append('<caption align="top">角色列表</caption><tr><td>所有角色</td><td>拥有权限</td><td>状态</td><td>编辑</td></tr>'+c)}else alert("错误信息"+o.msg)}),t(document).on("click",".index-lei-que",function(){o=t(".role-name").val(),addRole(o,function(e){console.log(e),1==e.code?(t(".role-name").val(""),location.reload()):alert("错误信息"+e.msg)})}),t(document).on("click",".role-editor",function(){dataId=t(this).attr("dataId"),t(".role-list").css("display","none"),t(".roles-editor").css("display","block"),t(".role-name").html(t(this).parent().prev().prev().prev().html()),t(".role-permission").html(t(this).parent().prev().prev().html()),t(".role-name").attr("dataId",dataId)}),t(document).on("click",".role-confirm",function(){i="",t('input[name="checkbox"]:checked').each(function(){i+=t(this).val()+","}),i=i.substring(0,i.length-1),n=t(".role-name").attr("dataId"),l=i,console.log(l),addAdminRoleModel(n,l,function(t){console.log(t),1==t.code?(alert("添加成功"),location.reload()):alert("错误信息"+t.msg)})}),t(document).on("click",".role-delete",function(){i="",t('input[name="checkbox"]:checked').each(function(){i+=t(this).val()+","}),i=i.substring(0,i.length-1),n=t(".role-name").attr("dataId"),l=i,console.log(l),delAdminRoleModel(n,l,function(t){console.log(t),1==t.code?(alert("删除成功"),location.reload()):alert("错误信息"+t.msg)})}),t(document).on("click",".role-concel",function(){t(".roles-editor").css("display","none"),t(".role-list").css("display","block")})})}(jQuery);