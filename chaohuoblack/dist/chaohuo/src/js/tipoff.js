!function(t){t(function(){function e(){o="",void 0==this.__index&&(this.__index=1),getAllInform(a,this.__index-1,m,function(e){if(1==e.code){for(var a=e.content.list,r=0;r<a.length;r++){switch(a[r].status){case 0:n="未处理",d='<span class="index-editor" dataid = '+a[r].id+'>处理</span>\n\t\t\t\t\t\t\t\t  <span class="query-detail" dataid = '+a[r].id+" datatype = "+a[r].targetType+">详情</span>";break;case 1:n="已经处理",d="<span dataid = "+a[r].id+' class="haveDeal">已处理</span>\n\t\t\t\t\t\t\t\t  <span class="query-detail" dataid = '+a[r].id+" datatype = "+a[r].targetType+">详情</span>";break;case null:n="未处理",d='<span class="index-editor" dataid = '+a[r].id+'>处理</span>\n\t\t\t\t\t\t\t\t  <span class="query-detail" dataid = '+a[r].id+" datatype = "+a[r].targetType+">详情</span>"}switch(a[r].targetType){case 1:i="用户";break;case 2:i="社群";break;case 3:i="动态";break;case 4:i="评论";break;case 5:i="群视频"}o+="<tr userid="+a[r].userId+" targetId="+a[r].targetId+" informUserid="+a[r].informUser.id+">\n\t\t\t\t\t\t\t\t\t\t<td>"+a[r].id+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+formatDate(new Date(a[r].createTime))+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+i+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+a[r].user.name+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+a[r].content+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+a[r].informUser.name+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+n+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+d+"</td>\n\t\t\t\t\t\t\t\t\t</tr>"}t(".index-table").html(""),t(".index-table").append(c+o)}else alert("举报信息"+e.msg)})}var a,n,d,r,i,s=document.getElementById("pager"),c="<tr>\n\t\t\t\t\t\t<td>ID</td>\n\t\t\t\t\t\t<td>时间</td>\n\t\t\t\t\t\t<td>类别</td>\n\t\t\t\t\t\t<td>举报人</td>\n\t\t\t\t\t\t<td>举报内容</td>\n\t\t\t\t\t\t<td>被举报人</td>\n\t\t\t\t\t\t<td>状态</td>\n\t\t\t\t\t\t<td>操作</td>\n\t\t\t\t\t</tr>",o="",l=0,p=0,m=10;getAllInform(a,0,m,function(e){l=e.content.totalPages,p=e.content.totalElements,t(".index-total").html("共有数据:"+p+"条")});new Pager({index:1,total:l,parent:s,onchange:e});t(document).on("click",".user-search",function(){a=t("select[name='feedbackStatus']").val(),t(".pager-box").remove(),getAllInform(a,l,m,function(a){if(console.log(a),1==a.code){l=a.content.totalPages,p=a.content.totalElements,t(".index-total").html("共有数据:"+p+"条"),o="";for(var r=a.content.list,m=0;m<r.length;m++){switch(r[m].status){case 0:n="未处理",d='<span class="index-editor" dataid = '+r[m].id+'>处理</span>\n\t\t\t\t\t\t\t\t  <span class="query-detail" dataid = '+r[m].id+" datatype = "+r[m].targetType+">详情</span>";break;case 1:n="已经处理",d="<span dataid = "+r[m].id+' class="haveDeal">已处理</span>\n\t\t\t\t\t\t\t\t  <span class="query-detail" dataid = '+r[m].id+" datatype = "+r[m].targetType+">详情</span>";break;case null:n="未处理",d='<span class="index-editor" dataid = '+r[m].id+'>处理</span>\n\t\t\t\t\t\t\t\t  <span class="query-detail" dataid = '+r[m].id+" datatype = "+r[m].targetType+">详情</span>"}switch(r[m].targetType){case 1:i="用户";break;case 2:i="社群";break;case 3:i="动态";break;case 4:i="评论";break;case 5:i="群视频"}o+="<tr userid="+r[m].userId+" targetId="+r[m].targetId+" informUserid="+r[m].informUser.id+">\n\t\t\t\t\t\t\t\t\t\t<td>"+r[m].id+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+formatDate(new Date(r[m].createTime))+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+i+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+r[m].user.name+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+r[m].content+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+r[m].informUser.name+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+n+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+d+"</td>\n\t\t\t\t\t\t\t\t\t</tr>"}t(".index-table").html(""),t(".index-table").append(c+o);new Pager({index:1,total:l,parent:s,onchange:e})}else alert("举报信息"+a.msg)})}),t(document).on("click",".index-editor",function(){t(".nothrough-wrap").show();t(this);r=t(this).attr("dataid")}),t(document).on("click",".nothrough-cancel",function(){t(".nothrough-wrap").hide()}),t(document).on("click",".nothrough-confirm",function(){var t=r;console.log(t),dealInform(t,function(t){console.log(t),1==t.code?(alert("发送提醒成功"),location.reload()):alert("处理举报错误信息"+t.msg)})}),t(document).on("click",".dewrap-cancel",function(){t(".dewrap").hide()}),t(document).on("click",".query-detail",function(){var e,a=t(this).attr("dataid"),n=t(this).attr("datatype");switch(getOneDetailById(a,function(t){1==t.code?e=t.content:alert("查看举报详情"+t.msg)}),console.log(e),console.log(n),t(".dewrap").show(),n){case"1":t(".dewrap .dewrap-detail").html("用户名: "+e.user.name),t(".dewrap img").attr("src",e.user.avatar);break;case"2":t(".dewrap .dewrap-detail").html("社群名: "+e.user.name),t(".dewrap img").attr("src",e.user.picture);break;case"3":t(".dewrap .dewrap-detail").html("动态内容: "+e.userDynamic.content),t(".dewrap img").attr("src",e.userDynamic.pictureOne);break;case"4":t(".dewrap .dewrap-detail").html("评论内容: "+e.userDynamicComment.content),t(".dewrap img").hide();break;case"5":t(".dewrap .dewrap-detail").html("视频名: "+e.communityLive.liveName),t(".dewrap img").hide()}})})}(jQuery);