!function(t){t(function(){function n(){c="",getAllWithdraw(e,this.__index-1,s,function(n){if(console.log(n),1==n.code){for(var e=n.content.list,a=0;a<e.length;a++){switch(null==e[a].phone&&(e[a].phone="未知"),e[a].status){case 0:o="待打款",d='<span class="agree" dataId="'+e[a].id+'">打款</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="refuse" dataId="'+e[a].id+'">拒绝</span>';break;case 1:o="已打款",d='<i dataId="'+e[a].id+'">已经打款了</i>';break;case-1:o="已拒绝",d="<i>已经拒绝打款</i>"}c+="<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<p>"+formatDate(new Date(e[a].createTime))+"</p>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<p>姓名:"+e[a].name+"</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>电话:"+e[a].phone+"</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>账号:"+e[a].cardNum+"</p>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+e[a].yuanmoney+"元</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+e[a].servicemoney+"元</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+e[a].realmoney+"元</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+o+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+d+"</td>\n\t\t\t\t\t\t\t\t\t</tr>"}t(".finance-main .index-table").html(""),t(".finance-main .index-table").append(h+c)}else alert(n.msg)})}var e,a,o,d,e,r=document.getElementById("pager"),c="",i=0,l=0,s=10,h="<tr>\n\t\t\t\t\t\t\t\t<td>日期</td>\n\t\t\t\t\t\t\t\t<td>用户详情</td>\n\t\t\t\t\t\t\t\t<td>提现金额</td>\n\t\t\t\t\t\t\t\t<td>手续费</td>\n\t\t\t\t\t\t\t\t<td>实际打款</td>\n\t\t\t\t\t\t\t\t<td>状态</td>\n\t\t\t\t\t\t\t\t<td>操作</td>\n\t\t\t\t\t\t\t</tr>";getAllWithdraw(e,0,s,function(t){i=t.content.totalPages,l=t.content.totalElements}),t(".index-total").html("共有数据："+l+"条"),t(document).on("click",".agree",function(){t(".through-wrap").show(),a=t(this).attr("dataId"),getOneWithdrawDetail(a,function(n){1==n.code?(t(".through-wrap .serviceMoney").html("手续费："+n.content.servicemoney+"元"),t(".through-wrap .realMoney").html("实际打款："+n.content.realmoney+"元"),t(".through-wrap .name").html("姓名："+n.content.name),t(".through-wrap .cardNum").html("账号："+n.content.cardNum)):alert("错误信息"+n.msg)})}),t(document).on("click",".refuse",function(){t(".nothrough-wrap").show(),a=t(this).attr("dataId")}),t(document).on("click",".through-cancel",function(){t(".through-wrap").hide()}),t(document).on("click",".nothrough-cancel",function(){t(".nothrough-wrap").hide()}),t(document).on("click",".through-confirm",function(){var n=a,e=t(".agree-reason").val();dealWithdrawOrder(n,1,e,function(t){console.log(t),1==t.code?(alert("处理成功!"),location.reload()):alert("错误信息"+t.msg)})}),t(document).on("click",".nothrough-confirm",function(){var n=a,e=t(".refuse-reason").val();dealWithdrawOrder(n,-1,e,function(t){console.log(t),1==t.code?(alert("已拒绝打款!"),location.reload()):alert("错误信息"+t.msg)})}),t(document).on("click",".index-search",function(){e=t(".search-word").val(),c="",getAllWithdraw(e,0,s,function(e){if(i=e.content.totalPages,l=e.content.totalElements,t(".index-total").html("共有数据："+l+"条"),1==e.code){t(".pager-box").remove();for(var a=e.content.list,s=0;s<a.length;s++){switch(null==a[s].phone&&(a[s].phone="未知"),a[s].status){case 0:o="待打款",d='<span class="agree" dataId="'+a[s].id+'">打款</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="refuse" dataId="'+a[s].id+'">拒绝</span>';break;case 1:o="已打款",d='<i class="agree" dataId="'+a[s].id+'">已经打款了</i>';break;case-1:o="已拒绝",d="<i>已经拒绝打款</i>"}c+="<tr>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<p>"+formatDate(new Date(a[s].createTime))+"</p>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t<p>姓名:"+a[s].name+"</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>电话:"+a[s].phone+"</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>账号:"+a[s].cardNum+"</p>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+a[s].yuanmoney+"元</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+a[s].servicemoney+"元</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+a[s].realmoney+"元</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+o+"</td>\n\t\t\t\t\t\t\t\t\t\t<td>"+d+"</td>\n\t\t\t\t\t\t\t\t\t</tr>"}t(".finance-main .index-table").html(""),t(".finance-main .index-table").append(h+c)}else alert(e.msg);new Pager({index:1,total:i,parent:r,onchange:n})})});new Pager({index:1,total:i,parent:r,onchange:n})})}(jQuery);