!function(t){t(function(){function e(){i="",void 0==this.__index&&(this.__index=1),queryAllLives(n,this.__index-1,a,function(e){if(1==e.code){for(var n=e.content.list,d=0;d<n.length;d++)i+="<tr>\n\t\t\t\t\t\t\t\t\t<td>"+n[d].id+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+n[d].communityLiveId+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+n[d].no+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+n[d].userName+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+n[d].userTotal+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+n[d].categoryName+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+n[d].shareNum+'</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<span class="index-query" dataid = '+n[d].communityLiveId+">查看</span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>";t(".index-table").html(""),t(".index-table").append(m+i)}else alert("错误信息"+e.msg)})}var n,d,i,o,l,c,a=10,s="",r=document.getElementById("pager"),m="<tr>\n\t\t\t\t\t\t\t\t<td>社群ID</td>\n\t\t\t\t\t\t\t\t<td>直播ID</td>\n\t\t\t\t\t\t\t\t<td>社群账号</td>\n\t\t\t\t\t\t\t\t<td>主播</td>\n\t\t\t\t\t\t\t\t<td>房间人数</td>\n\t\t\t\t\t\t\t\t<td>社群类别</td>\n\t\t\t\t\t\t\t\t<td>分享人数</td>\n\t\t\t\t\t\t\t\t<td>操作</td>\n\t\t\t\t\t\t\t</tr>";queryAllLives(n,0,a,function(t){console.log(t),1==t.code?(d=t.content.totalPages,l=t.content.totalElements):alert("错误信息"+t.msg)}),t(".direct-index .index-total").html("共有数据:"+l+"条");new Pager({index:1,total:d,parent:r,onchange:e});t(document).on("click",".direct-search",function(){i="",n=t(".direct-input").val(),queryAllLives(n,0,a,function(n){if(1==n.code){d=n.content.totalPages,l=n.content.totalElements;for(var o=n.content.list,c=0;c<o.length;c++)i+="<tr>\n\t\t\t\t\t\t\t\t\t<td>"+o[c].id+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+o[c].communityLiveId+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+o[c].no+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+o[c].userName+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+o[c].userTotal+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+o[c].categoryName+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+o[c].shareNum+'</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<span class="index-query" dataid = '+o[c].communityLiveId+">查看</span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>";t(".index-table").html(""),t(".index-table").append(m+i),t(".direct-index .index-total").html("共有数据:"+l+"条");new Pager({index:1,total:d,parent:r,onchange:e})}else alert("错误信息"+n.msg)})}),t(document).on("click",".index-query",function(){c=t(this).attr("dataid"),console.log(c),t(".main-content-inner").load("src/html/livesedetail.html .direct-detail",function(){queryOneLives(c,function(e){if(console.log(e),1==e.code){switch(s="",e.content.status){case 1:o="直播中";break;case 2:o="直播暂停";break;case 3:o="直播结束";break;case 0:o="直播删除"}if(t(".lives-name").html(e.content.liveName),t(".lives-status").html(o),t(".lives-comname").html(e.content.communityName),t(".lives-logo").attr("src",e.content.liveCoverUrl),t(".lives-username").html(e.content.userName),t(".lives-comid").html(e.content.communityId),t(".lives-id").html(e.content.id),t(".lives-follow").html(e.content.followNum),t(".lives-share").html(e.content.shareNum),t(".lives-address").html(e.content.hlsPlayUrl),e.content.videos.length>0){for(var n=0;n<e.content.videos.length;n++)s+='<img src="'+e.content.videos[n].liveCoverUrl+'" liveid="'+e.content.videos[n].communityLiveId+'" class="videoimg" videourl="'+e.content.videos[n].videoUrl+'"/>';t(".index-img").append(s)}t(document).on("click",".videoimg",function(){location.href=t(this).attr("videourl")})}else alert("错误信息"+e.msg)}),t(document).on("click",".lives-cancel",function(){location.reload()})})})})}(jQuery);