!function(t){t(function(){function n(){a="",void 0==this.__index&&(this.__index=1),queryThroughList(c,r,s,this.__index-1,m,function(n){if(console.log(n),1==n.code){e=n.content.totalPages,o=n.content.totalElements;for(var c=n.content.list,r=0;r<c.length;r++){switch(c[r].status){case 1:i="申请中",l='<span class="index-editor" throughid = '+c[r].id+" dataid= "+c[r].userId+">审核</span>";break;case 2:i="通过",l='<span class="index-editor" throughid = '+c[r].id+" dataid= "+c[r].userId+">详情</span>";break;case 3:i="未通过",l='<span class="index-editor" throughid = '+c[r].id+" dataid= "+c[r].userId+">审核</span>"}switch(c[r].applyStatus){case 1:d="企业";break;case 2:d="个人"}a+="<tr>\n\t\t\t\t\t\t\t\t\t<td>"+c[r].name+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+c[r].cardNum+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+d+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+i+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+l+"</td>\n\t\t\t\t\t\t\t\t</tr>"}t(".index-table").html(""),t(".index-table").append(p+a),t(".index-total").html("共有数据:"+o+"条")}else alert("错误信息"+n.msg)})}var e,o,a,c,r,s,d,i,l,h,u,m=10,g=document.getElementById("pager"),p="<tr>\n\t\t\t\t\t\t\t\t<td>姓名</td>\n\t\t\t\t\t\t\t\t<td>身份证号</td>\n\t\t\t\t\t\t\t\t<td>类型</td>\n\t\t\t\t\t\t\t\t<td>状态</td>\n\t\t\t\t\t\t\t\t<td>操作</td>\n\t\t\t\t\t\t\t</tr>";queryThroughList(c,r,s,e,m,function(t){console.log(t),1==t.code?(e=t.content.totalPages,o=t.content.totalElements):alert("错误信息"+t.msg)});new Pager({index:1,total:e,parent:g,onchange:n});t(document).on("click",".index-editor",function(){h=t(this).attr("throughid"),t(".main-content-inner").load("src/html/through_detail.html .through-detail",function(){queryThroughPerson(h,function(n){if(console.log(n),1==n.code){switch(n.content.status){case 1:i="申请中";break;case 2:i="通过",t(".index-btn-con").css("display","none"),t(".index-btn-not").css("display","none"),t(".index-btn-cel").css("marginLeft","40%");break;case 3:i="未通过"}1==n.content.applyStatus?(d="企业",t(".real-name .through-span").html(n.content.name),t(".through-name .through-span").html(d),t(".through-time .through-span").html(formatDate(new Date(n.content.createTime))),t(".id-card .through-span").html(n.content.cardNum),t(".card-front img").attr("src",n.content.cardFront),t(".card-contrary img").attr("src",n.content.cardContrary),t(".card-hand img").attr("src",n.content.cardHand),t(".company-name .through-span").html(n.content.businessName),t(".company-no .through-span").html(n.content.businessLicenseNum),t(".company-front img").attr("src",n.content.businessLicenseFront)):1!=n.content.applyStatus&&(d="个人",t(".real-name .through-span").html(n.content.name),t(".through-name .through-span").html(d),t(".through-time .through-span").html(formatDate(new Date(n.content.createTime))),t(".id-card .through-span").html(n.content.cardNum),t(".card-front img").attr("src",n.content.cardFront),t(".card-contrary img").attr("src",n.content.cardContrary),t(".card-hand img").attr("src",n.content.cardHand),t(".company-name").css("display","none"),t(".company-no").css("display","none"),t(".company-front").css("display","none"))}else alert("错误信息"+n.msg)}),t(document).on("click",".index-btn-con",function(){t(".through-wrap").css("display","block")}),t(document).on("click",".through-cancel",function(){t(".through-wrap").css("display","none")}),t(document).on("click",".through-confirm",function(){console.log(h),throughResult(u,h,2,function(n){console.log(n),1==n.code?(alert("审核通过"),t(".through-wrap").css("display","none"),location.reload()):alert("错误信息"+n.msg)})}),t(document).on("click",".index-btn-not",function(){t(".nothrough-wrap").css("display","block")}),t(document).on("click",".nothrough-cancel",function(){t(".nothrough-wrap").css("display","none")}),t(document).on("click",".nothrough-confirm",function(){u=t(".nothrough-wrap").find("textarea").val(),console.log(u),throughResult(u,h,3,function(n){console.log(n),1==n.code?(alert("请求成功,审核不予通过"),t(".through-wrap").css("display","none"),location.reload()):alert("错误信息"+n.msg)})}),t(document).on("click",".index-btn-cel",function(){location.reload()}),t(document).on("click",".through-detail img",function(){var n=t(this).attr("src");t(".card-img").show(),t(".card-img img").attr("src",n)}),t(document).on("click",".card-img .closebtn",function(){t(".card-img").hide()})})}),t(document).on("click",".user-search",function(){t(".index-table").find("tbody").html(""),t(".pager-box").remove(),c=t('input[name="userSearch"]').val(),console.log(c),queryThroughList(c,r,s,0,m,function(c){if(console.log(c),1==c.code){a="",e=c.content.totalPages,o=c.content.totalElements;for(var r=c.content.list,s=0;s<r.length;s++){switch(r[s].status){case 1:i="申请中",l='<span class="index-editor" throughid = '+r[s].id+" dataid= "+r[s].userId+">审核</span>";break;case 2:i="通过",l='<span class="index-editor" throughid = '+r[s].id+" dataid= "+r[s].userId+">详情</span>";break;case 3:i="未通过",l='<span class="index-editor" throughid = '+r[s].id+" dataid= "+r[s].userId+">审核</span>"}switch(r[s].applyStatus){case 1:d="企业";break;case 2:d="个人"}a+="<tr>\n\t\t\t\t\t\t\t\t\t<td>"+r[s].name+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+r[s].cardNum+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+d+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+i+"</td>\n\t\t\t\t\t\t\t\t\t<td>"+l+"</td>\n\t\t\t\t\t\t\t\t</tr>"}t(".index-table").html(""),t(".index-table").append(p+a),t(".index-total").html("共有数据:"+o+"条");new Pager({index:1,total:e,parent:g,onchange:n})}else alert("错误信息"+c.msg)})})})}(jQuery);